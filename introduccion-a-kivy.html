
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/font-awesome.min.css">





<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-121641939-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<meta name="author" content="Santacenero" />
<meta name="description" content="Primeros pasos con el framework Kivy de Python" />
<meta name="keywords" content="python, kivy">

<meta property="og:site_name" content="Codificando"/>
<meta property="og:title" content="Introducción a Kivy"/>
<meta property="og:description" content="Primeros pasos con el framework Kivy de Python"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/introduccion-a-kivy.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-06-27 10:00:00+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/santacenero.html">
<meta property="article:section" content="programacion"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="kivy"/>
<meta property="og:image" content="https://cdn.static-economist.com/sites/default/files/images/2015/09/blogs/economist-explains/code2.png">

  <title>Codificando &ndash; Introducción a Kivy</title>

</head>
<body>
  <aside>
    <div>
      <a href="">
        <img src="https://cdn.static-economist.com/sites/default/files/images/2015/09/blogs/economist-explains/code2.png" alt="Codificando" title="Codificando">
      </a>
      <h1><a href="">Codificando</a></h1>

<p>Cosas que leo, investigo y codifico</p>
      <nav>
        <ul class="list">
          <li><a href="/pages/acerca.html#acerca">Acerca</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="https://github.com/santacenero" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/santacenero" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-facebook" href="//facebook.com/santacenero" target="_blank"><i class="fa fa-facebook"></i></a></li>
        <li><a class="sc-instagram" href="https://instagram.com/santacenero" target="_blank"><i class="fa fa-instagram"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="introduccion-a-kivy">Introducción a Kivy</h1>
    <p>
          Posted on mié 27 junio 2018 in <a href="/category/programacion.html">programacion</a>


    </p>
  </header>


  <div>
    <p>Al inicio de este año 2018 me propuse el objetivo de aprender una nueva tecnología cada mes. Como primer proyecto, decidí en el pasado mes de Febrero aprender <a href="https://kivy.org">Kivy</a>, un framework de Python para crear interfaces y con la posibilidad además de compilarlos como aplicaciones para Android. En esta primera entrada dedicada a Kivy vamos a ver como instalar el framework y como crear una sencilla aplicación.</p>
<p>Instalar la librería me dio ciertos quebraderos de cabeza. Al final tuve que actualizar la versión de Python porque con la que usaba hasta ese momento los problemas de compatibilidades iban apareciendo cada vez más. Ahora mismo trabajo con <code>Python 2.7.14 |Anaconda, Inc.| (default, Nov  8 2017, 13:40:13) [MSC v.1500 32 bit (Intel)] on win32.</code></p>
<h2>Instalación de kivy</h2>
<div class="highlight"><pre><span></span>python -m pip install --upgrade pip wheel setuptools

python -m pip install docutils pygments pypiwin32 kivy.deps.sdl2 kivy.deps.glew

python -m pip install kivy
</pre></div>


<h2>Filosofia de kivy</h2>
<p>Kivy se basa en un patrón vista-controlador. Por un lado tienes un fichero <code>.kv</code> donde defines la interface, especificando los controles, propiedades y eventos, y por otro lado tienes un fichero <code>.py</code> con el código python para darle la funcionalidad a esa interface.</p>
<h2>Primer ejemplo</h2>
<p>Ante un nuevo lenguaje o framework lo primero es hacer el típico programa que imprima "Hola Mundo". En este caso vamos a hacer una aplicación con un botón y una caja de texto. Al click en el botón se mostrará el texto "Hola Mundo" en la caja de texto. </p>
<p>El objetivo de esta secilla aplicación será aprender:</p>
<ul>
<li>Como definir una interfaz</li>
<li>Como acceder a la interfaz desde el controlador</li>
<li>Como procesar los eventos del usuario </li>
</ul>
<p>Con esos ingredientes ya tendremos una buena base para desarrollar algo con kivy.</p>
<h2>Interface</h2>
<p><code>test.kv</code></p>
<div class="highlight"><pre><span></span><span class="err">#</span><span class="p">:</span><span class="nd">kivy</span> <span class="nt">1</span><span class="p">.</span><span class="nc">0</span>

<span class="o">&lt;</span><span class="nt">test</span><span class="o">&gt;:</span>

    <span class="nt">text_widget</span><span class="o">:</span> <span class="nt">texto1</span>

    <span class="nt">BoxLayout</span><span class="o">:</span>
        <span class="nt">orientation</span><span class="o">:</span> <span class="s1">&#39;vertical&#39;</span>
        <span class="nt">padding</span><span class="o">:</span> <span class="nt">20</span>

        <span class="nt">TextInput</span><span class="o">:</span>
            <span class="nt">id</span><span class="o">:</span> <span class="nt">texto1</span>
            <span class="nt">text</span><span class="o">:</span> <span class="s2">&quot;.....&quot;</span>

        <span class="nt">Button</span><span class="o">:</span>
            <span class="nt">text</span><span class="o">:</span> <span class="s2">&quot;Pulsa&quot;</span>
            <span class="nt">on_press</span><span class="o">:</span> <span class="nt">root</span><span class="p">.</span><span class="nc">saluda</span><span class="o">()</span>
</pre></div>


<p>Ten en cuenta que si quieres que se pueda acceder a un widget desde el controlador tendrás que especificarlo. En este caso en la línea <code>text_widget: texto1</code> estamos declarando al widget <code>texto1</code> para que desde el controlador se pueda acceder a el a través del nombre <code>text_widget</code>. </p>
<h2>Controlador</h2>
<p>En el fichero <code>.py</code> es donde se define la funcionalidad. Creo que se ve claramente lo que hace.</p>
<p><code>test.py</code></p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">kivy</span>
<span class="n">kivy</span><span class="o">.</span><span class="n">require</span><span class="p">(</span><span class="s1">&#39;1.0.5&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">kivy.uix.floatlayout</span> <span class="kn">import</span> <span class="n">FloatLayout</span>
<span class="kn">from</span> <span class="nn">kivy.app</span> <span class="kn">import</span> <span class="n">App</span>
<span class="kn">from</span> <span class="nn">kivy.properties</span> <span class="kn">import</span> <span class="n">ObjectProperty</span><span class="p">,</span> <span class="n">StringProperty</span>


<span class="k">class</span> <span class="nc">test</span><span class="p">(</span><span class="n">FloatLayout</span><span class="p">):</span>


    <span class="n">text_widget</span> <span class="o">=</span> <span class="n">ObjectProperty</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">saluda</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">text_widget</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Hola mundo&quot;</span>


<span class="k">class</span> <span class="nc">testApp</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">test</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">testApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<p>Es importante tener en cuenta en este ejemplo que ambos ficheros tienen que llamarse igual y estar en la misma carpeta. </p>
<h2>Resultado final</h2>
<p><img alt="Nuestra primera aplicación con Kivy!" src="/images/kivy1.JPG"></p>
<p>En próximas entradas veremos otras aplicaciones más útiles y sobretodo como crear una aplicación Android.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/python.html">python</a>
      <a href="/tag/kivy.html">kivy</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'test-test';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy;  </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Codificando ",
  "url" : "",
  "image": "https://cdn.static-economist.com/sites/default/files/images/2015/09/blogs/economist-explains/code2.png",
  "description": ""
}
</script>

</body>
</html>